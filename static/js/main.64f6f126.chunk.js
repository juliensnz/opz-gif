(this["webpackJsonpopz-giffer"]=this["webpackJsonpopz-giffer"]||[]).push([[0],{10:function(n,e,t){"use strict";t.d(e,"a",(function(){return d}));var r=t(2),o=t(1);function a(){var n=Object(r.a)(["\n          left: 0;\n        "]);return a=function(){return n},n}function i(){var n=Object(r.a)(["\n          right: ","px;\n          transform: rotate(-90deg);\n          transform-origin: ","px 0;\n        "]);return i=function(){return n},n}function c(){var n=Object(r.a)(["\n          bottom: 0;\n        "]);return c=function(){return n},n}function u(){var n=Object(r.a)(["\n          top: 0;\n        "]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  position: absolute;\n  ","\n\n  ","\n\n  height: ","px;\n  width: ","px;\n  text-align: center;\n  line-height: ","px;\n  font-size: 20px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return l=function(){return n},n}var d=o.c.div(l(),(function(n){var e=n.leading;return void 0===e||e?Object(o.b)(u()):Object(o.b)(c())}),(function(n){return n.vertical?Object(o.b)(i(),(function(n){return n.theme.addModal.spacing}),(function(n){return n.theme.addModal.windowSize})):Object(o.b)(a())}),(function(n){return n.theme.addModal.spacing}),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.theme.addModal.spacing}))},14:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t(6),o=t(0),a=function(n){var e=Object(o.useState)(n),t=Object(r.a)(e,2),a=t[0],i=t[1];return[a,function(){return i(!0)},function(){return i(!1)}]}},15:function(n,e,t){"use strict";t.d(e,"a",(function(){return d}));var r=t(2),o=t(0),a=t.n(o),i=t(1),c=t(7);function u(){var n=Object(r.a)(["\n  width: ","px;\n  height: ","px;\n"]);return u=function(){return n},n}var l=i.c.canvas(u(),(function(n){return n.cssWidth}),(function(n){return n.cssWidth/c.b*c.a})),d=function(n){var e=n.gif,t=n.width,r=Object(o.useRef)(null);return Object(o.useEffect)((function(){if(null!==r&&null!==r.current){Object(c.g)(r.current,e);var n=Object(c.c)(r.current,e);return function(){clearInterval(n)}}}),[e]),a.a.createElement(l,{ref:r,width:c.b,height:c.a,cssWidth:t})}},22:function(n,e,t){"use strict";(function(n){t.d(e,"a",(function(){return S}));var r=t(6),o=t(2),a=t(0),i=t.n(a),c=t(1),u=t(35),l=t(27),d=t(28),s=t(14),f=t(3);function p(){var n=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n  line-height: ","px;\n  text-align: center;\n  font-size: 25px;\n  font-weight: 200;\n"]);return p=function(){return n},n}function h(){var n=Object(o.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  line-height: ","px;\n  width: ","px;\n  text-align: center;\n  font-size: 30px;\n  font-weight: 100;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return h=function(){return n},n}function v(){var n=Object(o.a)(["\n  height: ","px;\n  width: ","px;\n  background: ",";\n  color: white;\n  position: relative;\n  z-index: 10;\n"]);return v=function(){return n},n}function g(){var n=Object(o.a)(["\n  width: ","px;\n  display: flex;\n  transform: translate3d(\n    -","px,\n    0,\n    0\n  );\n  transition: transform 0.5s ease-in-out;\n"]);return g=function(){return n},n}function m(){var n=Object(o.a)(["\n  width: ","px;\n  height: ","px;\n  background: ",";\n  overflow: hidden;\n  border-radius: 5px;\n  box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);\n"]);return m=function(){return n},n}function b(){var n=Object(o.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.3);\n  opacity: ",";\n\n  transition: opacity 0.5s ease-in-out;\n"]);return b=function(){return n},n}var x=c.c.div(b(),(function(n){return n.isVisible?1:0})),w=c.c.div(m(),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.theme.addModal.windowSize+n.theme.addModal.spacing}),(function(n){return n.theme.color.white})),j=c.c.div(g(),(function(n){return 3*n.theme.addModal.windowSize}),(function(n){return n.level*(n.theme.addModal.windowSize-n.theme.addModal.spacing)})),O=c.c.div(v(),(function(n){return n.theme.addModal.spacing}),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.theme.color.grey})),y=c.c.div(h(),(function(n){return n.theme.addModal.spacing}),(function(n){return n.theme.addModal.spacing})),E=c.c.div(p(),(function(n){return n.theme.addModal.spacing})),k=function(n,e){return null!==e?2:0!==n.length?1:0},S=function(e){var t=e.initialSprite,o=void 0===t?null:t,c=e.onLoopAdd,p=e.dismissModal,h=Object(a.useState)([]),v=Object(r.a)(h,2),g=v[0],m=v[1],b=Object(a.useState)(null),S=Object(r.a)(b,2),M=S[0],C=S[1],z=Object(a.useState)(o),_=Object(r.a)(z,2),A=_[0],L=_[1],F=Object(s.a)(!1),G=Object(r.a)(F,2),T=G[0],I=G[1];return Object(a.useEffect)((function(){n((function(){return I()}))}),[I]),Object(a.useEffect)((function(){0!==g.length&&null!==M&&null!==A&&c({gif:g,configuration:M,sprite:A})}),[g,M,A,c]),i.a.createElement(x,{isVisible:T},i.a.createElement(w,null,i.a.createElement(O,null,i.a.createElement(y,{onClick:function(){null!==M?Object(f.c)(f.a.CancelAdd,{from:"sprite"}):0!==g.length?Object(f.c)(f.a.CancelAdd,{from:"configure"}):Object(f.c)(f.a.CancelAdd,{from:"start"}),p()}},"X"),i.a.createElement(E,null,"Add a loop")),i.a.createElement(j,{level:k(g,M)},i.a.createElement(u.b,{previous:0!==g.length,onGifSelected:function(n){m(n)}}),i.a.createElement(l.a,{previous:null!==M,gif:g,onLoopConfirmation:function(n){C(n)}}),i.a.createElement(d.a,{onSpriteConfirmation:function(n){L(n)}}))))}}).call(this,t(19).setImmediate)},27:function(n,e,t){"use strict";t.d(e,"a",(function(){return h}));var r=t(2),o=t(0),a=t.n(o),i=t(1),c=t(9),u=t(15),l=t(10);function d(){var n=Object(r.a)(["\n  background-color: ",";\n  color: black;\n  margin: 20px 0;\n  padding: 10px 5px;\n  font-size: 20px;\n  text-align: center;\n  text-transform: uppercase;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return d=function(){return n},n}function s(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  width: ","px;\n  height: ","px;\n  padding: ","px;\n  background: rgb(208, 208, 208);\n  box-sizing: border-box;\n  justify-content: space-between;\n  position: relative;\n"]);return s=function(){return n},n}var f=i.c.div(s(),(function(n){return n.theme.addModal.windowSize-n.theme.addModal.spacing}),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.theme.addModal.spacing})),p=i.c.span(d(),(function(n){return n.theme.color.yellow})),h=function(n){var e=n.gif,t=n.onLoopConfirmation,r=n.previous;return a.a.createElement(f,null,0!==e.length&&a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,{gif:e,width:420}),a.a.createElement(p,{onClick:function(){t({sample:c.a.Trim})}},"Confirm")),r&&a.a.createElement(l.a,{vertical:!0,onClick:function(){return t(null)}},"Back"))}},28:function(n,e,t){"use strict";t.d(e,"a",(function(){return h}));var r=t(8),o=t(2),a=t(0),i=t.n(a),c=t(1);function u(){var n=Object(o.a)(["\n  width: 95px;\n  margin-right: 10px;\n  height: 44px;\n  background: ",";\n  line-height: 44px;\n  text-align: center;\n  font-weight: 100;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return u=function(){return n},n}function l(){var n=Object(o.a)(["\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: repeat(auto-fill, minmax(95px, 1fr));\n"]);return l=function(){return n},n}function d(){var n=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  width: ","px;\n  height: ","px;\n  padding: ","px;\n  background: ",";\n  box-sizing: border-box;\n  justify-content: center;\n  display: flex;\n"]);return d=function(){return n},n}var s=c.c.div(d(),(function(n){return n.theme.addModal.windowSize-n.theme.addModal.spacing}),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.theme.addModal.spacing}),(function(n){return n.theme.color.black})),f=c.c.div(l()),p=c.c.div(u(),(function(n){return n.theme.color.white})),h=function(n){var e=n.onSpriteConfirmation;return i.a.createElement(s,null,i.a.createElement(f,null,Object(r.a)(new Array(14)).map((function(n,t){return i.a.createElement(p,{key:t,onClick:function(){e(t)}},t+1)}))))}},3:function(n,e,t){"use strict";t.d(e,"c",(function(){return l})),t.d(e,"b",(function(){return u})),t.d(e,"a",(function(){return r}));var r,o=t(4),a=t.n(o),i=t(5);!function(n){n.AppLaunch="app_launch",n.ErrorOccured="error_occured",n.StartAdding="start_adding",n.GifSelected="gif_selected",n.CancelAdd="cancel_add",n.LoopAdded="loop_added",n.Download="download"}(r||(r={}));var c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=16*Math.random()|0;return("x"===n?e:3&e|8).toString(16)})),u=function(n,e){l(r.ErrorOccured,{type:n,error:e})},l=function(){var n=Object(i.a)(a.a.mark((function n(e){var t,r=arguments;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},n.prev=1,n.next=4,fetch("https://api.amplitude.com/2/httpapi",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:Object({NODE_ENV:"production",PUBLIC_URL:"/opz-gif",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_VERSION:"0.1.0"}).AMPLITUDE_API_KEY,events:[{user_id:c,device_id:c,event_type:e,time:Date.now(),event_properties:t,app_version:"".concat("0.1.0","-").concat("production")}]})});case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}()},35:function(n,e,t){"use strict";t.d(e,"b",(function(){return P})),t.d(e,"a",(function(){return _}));var r=t(6),o=t(2),a=t(0),i=t.n(a),c=t(1),u=t(4),l=t.n(u),d=t(5),s=t(9),f=t(10),p=t(3);function h(){var n=Object(o.a)(["\n  background: ",";\n  color: black;\n  margin: 10px 10px;\n  padding: 10px 5px;\n  font-size: 20px;\n  text-align: center;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return h=function(){return n},n}function v(){var n=Object(o.a)(["\n  margin: 0 10px;\n  padding: 10px 5px;\n  font-size: 20px;\n  background: transparent;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n"]);return v=function(){return n},n}function g(){var n=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 60px;\n  opacity: ",";\n  height: ",";\n  transition: opacity 0.5s ease-in-out;\n"]);return g=function(){return n},n}function m(){var n=Object(o.a)(["\n  width: ","px;\n  height: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 30px;\n  font-weight: 200;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return m=function(){return n},n}function b(){var n=Object(o.a)(["\n  background-color: ",";\n  width: ","px;\n  height: ","px;\n  transition: height 0.5s ease-in-out;\n  flex-direction: column;\n  position: relative;\n"]);return b=function(){return n},n}var x=c.c.div(b(),(function(n){return n.theme.color.yellow}),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.selected?n.theme.addModal.windowSize-(n.previous?0:n.theme.addModal.spacing):n.theme.addModal.windowSize/n.theme.addModal.sourceCount})),w=c.c.div(m(),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.theme.addModal.windowSize/n.theme.addModal.sourceCount})),j=c.c.div(g(),(function(n){return n.visible?1:0}),(function(n){return n.visible?n.theme.addModal.windowSize/n.theme.addModal.sourceCount:0})),O=c.c.input(v()),y=c.c.span(h(),(function(n){return n.theme.color.white})),E=function(n){var e=n.selected,t=n.previous,o=n.onSelected,c=n.onGifSelected,u=Object(a.useState)(""),h=Object(r.a)(u,2),v=h[0],g=h[1],m=Object(a.useState)(!1),b=Object(r.a)(m,2),E=b[0],k=b[1],S=Object(a.useRef)(null),M=function(n){var e=Object(a.useCallback)((function(){null!==n.current&&n.current.focus()}),[n]);return Object(a.useEffect)(e,[]),e}(S);Object(a.useEffect)((function(){_.Url===e&&M(),null===e&&setTimeout((function(){return g("")}),500)}),[e,t,M]);var C=Object(a.useCallback)(Object(d.a)(l.a.mark((function n(){var e,t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k(!0),n.prev=1,n.next=4,Object(s.c)(v);case 4:return e=n.sent,n.next=7,Object(s.d)(e);case 7:t=n.sent,Object(p.c)(p.a.GifSelected,{type:"url"}),c(t),k(!1),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),Object(p.b)("cannot_generate_gif_from_url",n.t0),console.error(n.t0);case 17:case"end":return n.stop()}}),n,null,[[1,13]])}))),[v,c,k,E]);return i.a.createElement(x,{selected:_.Url===e,previous:t},i.a.createElement(w,{onClick:function(){return _.Url!==e&&o()}},"Url"),i.a.createElement(j,{visible:_.Url===e},i.a.createElement(O,{ref:S,placeholder:"Your GIF url",type:"text",onChange:function(){var n=Object(d.a)(l.a.mark((function n(e){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:g(e.currentTarget.value);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onKeyPress:function(n){"Enter"===n.key&&C()},value:v}),i.a.createElement(y,{onClick:C},"Confirm")),t&&i.a.createElement(f.a,{vertical:!0,onClick:function(){return c([])}},"Back"),null!==e&&_.Url!==e&&i.a.createElement(f.a,{vertical:!1,leading:!1,onClick:function(){return o()}},"Back"))};function k(){var n=Object(o.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return k=function(){return n},n}function S(){var n=Object(o.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: calc(100% - ","px);\n  height: calc(100% - ","px);\n  background-image: url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='10' ry='10' stroke='%23E9B13DFF' stroke-width='4' stroke-dasharray='6%2c 14' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\");\n  border-radius: 10px;\n  margin: 0 ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  font-weight: 200;\n"]);return S=function(){return n},n}function M(){var n=Object(o.a)(["\n  width: ","px;\n  opacity: ",";\n  height: ","px;\n  transition: opacity 0.5s ease-in-out, transform 0.2s ease-in-out;\n  position: relative;\n\n  &:hover {\n    cursor: pointer;\n    transform: scale(1.02);\n  }\n"]);return M=function(){return n},n}function C(){var n=Object(o.a)(["\n  width: ","px;\n  height: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 30px;\n  font-weight: 200;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return C=function(){return n},n}function z(){var n=Object(o.a)(["\n  background-color: ",";\n  width: ","px;\n  height: ","px;\n  transition: height 0.5s ease-in-out;\n  position: relative;\n"]);return z=function(){return n},n}var _,A=c.c.div(z(),(function(n){return n.theme.color.blue}),600,(function(n){return n.selected?n.theme.addModal.windowSize-(n.previous?0:n.theme.addModal.spacing):n.theme.addModal.windowSize/n.theme.addModal.sourceCount})),L=c.c.div(C(),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.theme.addModal.windowSize/n.theme.addModal.sourceCount})),F=c.c.div(M(),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.visible?1:0}),(function(n){return n.visible?n.theme.addModal.windowSize/n.theme.addModal.sourceCount:0})),G=c.c.div(S(),(function(n){return 2*n.theme.addModal.spacing}),(function(n){return 2*n.theme.addModal.spacing}),(function(n){return n.theme.addModal.spacing})),T=c.c.input(k()),I=function(n){var e=n.selected,t=n.previous,o=n.onSelected,c=n.onGifSelected,u=Object(a.useState)(!1),h=Object(r.a)(u,2),v=(h[0],h[1]);return i.a.createElement(A,{selected:_.File===e,previous:t},i.a.createElement(L,{onClick:function(){return _.File!==e&&o()}},"File"),null!==e&&_.File!==e&&i.a.createElement(f.a,{vertical:!1,onClick:function(){return o()}},"Back"),i.a.createElement(F,{visible:_.File===e},i.a.createElement(G,null,"Click here or directly drop your file"),i.a.createElement(T,{type:"file",onChange:function(){var n=Object(d.a)(l.a.mark((function n(e){var t,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==e.target.files&&"image/gif"===e.target.files[0].type){n.next=2;break}return n.abrupt("return");case 2:return v(!0),n.prev=3,n.next=6,Object(s.b)(e.target.files[0]);case 6:return t=n.sent,n.next=9,Object(s.d)(t);case 9:r=n.sent,Object(p.c)(p.a.GifSelected,{type:"file"}),c(r),v(!1),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(3),Object(p.b)("cannot_generate_gif_from_file",n.t0),v(!1);case 19:case"end":return n.stop()}}),n,null,[[3,15]])})));return function(e){return n.apply(this,arguments)}}()})),t&&i.a.createElement(f.a,{vertical:!0,onClick:function(){return c([])}},"Back"))};function D(){var n=Object(o.a)(["\n  width: ","px;\n  overflow: hidden;\n  transform: translate3d(\n    0,\n    -","px,\n    0\n  );\n  transition: all 0.5s ease-in-out;\n"]);return D=function(){return n},n}!function(n){n[n.Url=0]="Url",n[n.File=1]="File"}(_||(_={}));var U=c.c.div(D(),(function(n){return n.theme.addModal.windowSize}),(function(n){return n.source===_.File?n.theme.addModal.windowSize/2-(n.previous?0:n.theme.addModal.spacing):0})),P=function(n){var e=n.onGifSelected,t=n.previous,o=Object(a.useState)(null),c=Object(r.a)(o,2),u=c[0],l=c[1];return i.a.createElement(U,{source:u,previous:t},i.a.createElement(E,{onSelected:function(){l(null===u?_.Url:null)},selected:u,previous:t,onGifSelected:e}),i.a.createElement(I,{onSelected:function(){l(null===u?_.File:null)},selected:u,previous:t,onGifSelected:e}))}},38:function(n,e,t){n.exports=t(51)},43:function(n,e,t){},51:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),a=t(21),i=t.n(a),c=(t(43),t(4)),u=t.n(c),l=t(5),d=t(8),s=t(6),f=t(2),p=t(1),h=t(14),v=t(22),g=t(29),m=t(30),b=t(31),x=t.n(b),w=t(7),j=function(n){return new Promise(function(){var e=Object(l.a)(u.a.mark((function e(t){var r,o,a,i,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new x.a,o=r.folder("GIFs"),a=Object(m.a)(n),e.prev=3,a.s();case 5:if((i=a.n()).done){e.next=15;break}return c=i.value,e.next=9,Object(w.d)(Object(w.e)(c.gif,Object(w.f)(c.gif)));case 9:if(""!==(l=e.sent)){e.next=12;break}return e.abrupt("return");case 12:o.file("GIF-Looper-Template-Spritesheet".concat(c.sprite+1<10?"0":"").concat(c.sprite+1,".png"),l.replace("data:image/png;base64,",""),{base64:!0});case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:r.generateAsync({type:"blob"}).then((function(n){t(n)}));case 24:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})));return function(n){return e.apply(this,arguments)}}())},O=t(15);function y(){var n=Object(f.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 100;\n  font-size: 25px;\n  color: ",";\n  opacity: 0;\n  transition: opacity 0.2s ease-in-out;\n\n  &:hover {\n    cursor: pointer;\n    opacity: 1;\n  }\n"]);return y=function(){return n},n}function E(){var n=Object(f.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  height: 138px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n  border-radius: 3px;\n  font-size: 40px;\n  color: ",";\n  background: repeating-linear-gradient(\n    120deg,\n    ",",\n    "," 5px,\n    "," 5px,\n    "," 6px\n  );\n"]);return E=function(){return n},n}function k(){var n=Object(f.a)(["\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: repeat(4, 300px);\n"]);return k=function(){return n},n}function S(){var n=Object(f.a)(["\n  flex: 1;\n  display: flex;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return S=function(){return n},n}var M=p.c.div(S()),C=p.c.div(k()),z=p.c.div(E(),(function(n){return n.theme.color.lightGrey}),(function(n){return n.theme.color.lightGrey}),(function(n){return n.theme.color.white}),(function(n){return n.theme.color.white}),(function(n){return n.theme.color.lightGrey}),(function(n){return n.theme.color.lightGrey})),_=p.c.div(y(),(function(n){return n.theme.color.red}),(function(n){return n.theme.color.black})),A=function(n){var e=n.loops,t=n.onOpenAddLoop,r=Object(d.a)(new Array(16)).map((function(n,t){return e.find((function(n){return n.sprite===t}))}));return o.a.createElement(M,null,o.a.createElement(C,null,r.map((function(n,e){return o.a.createElement(z,{key:e},void 0===n?e<14?e+1:"":o.a.createElement(O.a,{gif:n.gif,width:300}),e<14&&o.a.createElement(_,{onClick:function(){return t(e)}},void 0===n?o.a.createElement("span",null,"Add"):o.a.createElement("span",null,"Edit")))}))))},L=t(3);function F(){var n=Object(f.a)(["\n  padding: 0 30px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  background-color: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return F=function(){return n},n}function G(){var n=Object(f.a)(["\n  flex: 1;\n"]);return G=function(){return n},n}function T(){var n=Object(f.a)(["\n  padding: 0 30px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  background-color: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return T=function(){return n},n}function I(){var n=Object(f.a)(["\n  height: 60px;\n  display: flex;\n  color: white;\n  background: rgb(19, 19, 19);\n"]);return I=function(){return n},n}function D(){var n=Object(f.a)(["\n  height: 60px;\n  display: flex;\n  color: white;\n  background: rgb(19, 19, 19);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 30px;\n  font-weight: 100;\n  width: 100%;\n"]);return D=function(){return n},n}function U(){var n=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  font-family: 'Muli', sans-serif;\n  box-sizing: border-box;\n"]);return U=function(){return n},n}var P=p.c.div(U()),R=p.c.div(D()),W=p.c.div(I()),B=p.c.div(T(),(function(n){return n.theme.color.yellow})),N=p.c.div(G()),K=p.c.div(F(),(function(n){return n.theme.color.blue})),V=function(){var n=Object(h.a)(!1),e=Object(s.a)(n,3),t=e[0],a=e[1],i=e[2],c=function(){var n=Object(r.useState)([]),e=Object(s.a)(n,2),t=e[0],o=e[1],a=Object(r.useCallback)((function(n){var e=Object(d.a)(t).filter((function(e){return e.sprite!==n.sprite}));o([].concat(Object(d.a)(e),[n]))}),[t,o]);return[t,a]}(),f=Object(s.a)(c,2),p=f[0],m=f[1],b=Object(r.useState)(null),x=Object(s.a)(b,2),w=x[0],O=x[1];return o.a.createElement(P,null,o.a.createElement(R,null,o.a.createElement("span",null,"Gif looper generator")),o.a.createElement(A,{loops:p,onOpenAddLoop:function(n){Object(L.c)(L.a.StartAdding,{loop_number:n,from:"loop"}),O(n),a()}}),o.a.createElement(W,null,o.a.createElement(B,{onClick:function(){Object(L.c)(L.a.StartAdding,{from:"button"}),a()}},o.a.createElement("span",null,"Add")),o.a.createElement(N,null),0!==p.length&&o.a.createElement(K,{onClick:Object(l.a)(u.a.mark((function n(){var e;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(L.c)(L.a.Download,{loop_count:p.length}),n.prev=1,n.next=4,j(p);case 4:e=n.sent,Object(g.saveAs)(e,"GIFs.zip"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Object(L.b)("cannot_generate_zip",n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))},o.a.createElement("span",null,"Download"))),t&&o.a.createElement(v.a,{dismissModal:function(){return i()},onLoopAdd:function(n){null===w?Object(L.c)(L.a.LoopAdded,{loop_count:p.length,from:"button"}):Object(L.c)(L.a.LoopAdded,{loop_count:p.length,from:"sprite",loop:w}),i(),m(n),O(null)},initialSprite:w}))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}var q=t(32),X=t(33),Y=t(34),$=t(37),Q=function(n){Object($.a)(t,n);var e=Object(Y.a)(t);function t(n){var r;return Object(q.a)(this,t),(r=e.call(this,n)).state={hasError:!1,error:null},r}return Object(X.a)(t,[{key:"componentDidCatch",value:function(n,e){console.error(n),Object(L.b)("fatal_error",n)}},{key:"render",value:function(){var n=this;return this.state.hasError?o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Something went wrong: ",null!==this.state.error?this.state.error.message:""),o.a.createElement("span",{onClick:function(){n.setState({hasError:!1,error:null})}},"Click here to dismiss this error")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}}]),t}(o.a.Component);Object(L.c)(L.a.AppLaunch),i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Q,null,o.a.createElement(p.a,{theme:{addModal:{windowSize:600,sourceCount:2,spacing:60},color:{yellow:"rgb(233, 177, 61)",red:"rgb(193, 51, 56)",blue:"rgb(39, 94, 132)",white:"rgb(208, 208, 208)",grey:"rgb(128, 128, 128)",lightGrey:"rgb(179, 179, 179)",black:"rgb(18, 18, 18)"}}},o.a.createElement(V,null)))),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/opz-gif",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/opz-gif","/service-worker.js");H?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):J(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):J(e,n)}))}}()},7:function(n,e,t){"use strict";t.d(e,"g",(function(){return p})),t.d(e,"c",(function(){return f})),t.d(e,"d",(function(){return m})),t.d(e,"e",(function(){return v})),t.d(e,"f",(function(){return s})),t.d(e,"b",(function(){return c})),t.d(e,"a",(function(){return u}));var r=t(4),o=t.n(r),a=t(5),i=t(8),c=1014,u=468,l=function(n,e){var t=e.width,r=e.width/c*u,o=(e.height-r)/2;n.putImageData(e,0,-o,0,o,t,r)},d=function(n,e){var t=n.getContext("2d");null!==t&&(l(t,e),t.drawImage(n,0,0,c,u))},s=function(n){var e=Math.floor(2e3/(10*n[0].delay));return Object(i.a)(new Array(30)).map((function(t,r){return h(e>=n.length?n.length:e,r)}))},f=function(n,e){var t=0,r=s(e);return setInterval((function(){var o=e[r[t%30]].data;d(n,o),t++}),2e3/30)},p=function(n,e){var t=c/e[0].data.width;n.getContext("2d").scale(t,t)},h=function(n,e){var t=n/30;return Math.floor(e*t)},v=function(n,e){return e.map((function(e){var t=document.createElement("canvas");t.width=c,t.height=u;var r=n[e].data,o=c/r.width,a=t.getContext("2d");if(null===a)throw Error("Cannot get context");return l(a,r),a.scale(o,o),a.drawImage(t,0,0),a.getImageData(0,0,c,u)}))},g=function(n){return 22+(u+44)*Math.floor(n/4)},m=function(){var n=Object(a.a)(o.a.mark((function n(e){var t,r,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((t=document.createElement("canvas")).width=4096,t.height=4096,null!==(r=t.getContext("2d"))){n.next=6;break}throw Error("Cannot create canvas");case 6:for(a in e)r.putImageData(e[a],5+(c+10)*(a%4),g(a));return r.drawImage(t,0,0),n.abrupt("return",t.toDataURL("image/png"));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},9:function(n,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"d",(function(){return p})),t.d(e,"b",(function(){return l})),t.d(e,"c",(function(){return s}));var r,o=t(4),a=t.n(o),i=t(5),c=t(23),u=t.n(c);!function(n){n[n.Trim=0]="Trim",n[n.Sample=1]="Sample"}(r||(r={}));var l=function(){var n=Object(i.a)(a.a.mark((function n(e){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var t=new FileReader;t.onload=function(e){n(e.target.result)},t.readAsDataURL(e)})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=Object(i.a)(a.a.mark((function n(e){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var t=new Image;t.onload=function(e){n(t)},t.src=e})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=Object(i.a)(a.a.mark((function n(e){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var t=new XMLHttpRequest;t.onload=function(){var r=new FileReader;r.onloadend=function(){if(null===r.result)throw Error('Cannot fetch "'.concat(e,'"'));n(r.result)},r.readAsDataURL(t.response)},t.open("GET",e),t.responseType="blob",t.send()})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=Object(i.a)(a.a.mark((function n(e){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var t=new u.a({gif:e,auto_play:!1});t.load((function(){n(t)}))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=Object(i.a)(a.a.mark((function n(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d(e);case 2:return t=n.sent,document.createElement("div").appendChild(t),n.next=7,f(t);case 7:return n.abrupt("return",n.sent.get_frames());case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},[[38,1,2]]]);
//# sourceMappingURL=main.64f6f126.chunk.js.map